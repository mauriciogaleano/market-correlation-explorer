<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Market Correlation Explorer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
  <style>
    #heatmap { width:100%; height:400px; }
    .toolbar { gap:0.5rem; }
    .spark { width: 80px; height: 24px; }
    @media (max-width: 576px) {
      .spark { display:none; }
      .toolbar { flex-direction: column; align-items: stretch; }
    }
  </style>
</head>
<body class="py-4">
  <div class="container">
    <h3 class="text-center">Market Correlation Explorer</h3>
    <p id="currentDate" class="text-center text-muted mb-4"></p>

    <div class="d-flex justify-content-center toolbar mb-3">
      <select id="rangeSelect" class="form-select form-select-sm w-auto">
        <option value="1">1 Day</option>
        <option value="7" selected>1 Week</option>
        <option value="30">1 Month</option>
      </select>
      <div class="form-check form-switch align-self-center">
        <input class="form-check-input" type="checkbox" id="liveToggle">
        <label class="form-check-label" for="liveToggle">Live</label>
      </div>
      <button id="exportBtn" class="btn btn-primary btn-sm">Export as PNG</button>
    </div>

    <div id="heatmap" class="mb-4"></div>

    <h5>Current Prices & Changes</h5>
    <ul id="priceList" class="list-group mb-4">
      <li class="list-group-item d-flex flex-wrap align-items-center justify-content-between">
        <div>
          Bitcoin: <span id="priceBTC">â€¦</span> (<span id="changeBTC">â€¦</span>) 
          <span id="sentBTC" class="badge bg-info">F&amp;G â€¦</span>
        </div>
        <div class="d-flex align-items-center">
          <img id="sparkBTC" class="spark me-2" src="" alt="">
          <a href="https://www.tradingview.com/symbols/BTCUSD/" target="_blank" class="me-2">ðŸ“ˆ</a>
          <a href="https://www.coindesk.com/price/bitcoin" target="_blank">ðŸ“°</a>
        </div>
      </li>
      <li class="list-group-item d-flex flex-wrap align-items-center justify-content-between">
        <div>
          Ethereum: <span id="priceETH">â€¦</span> (<span id="changeETH">â€¦</span>) 
          <span id="sentETH" class="badge bg-info">F&amp;G â€¦</span>
        </div>
        <div class="d-flex align-items-center">
          <img id="sparkETH" class="spark me-2" src="" alt="">
          <a href="https://www.tradingview.com/symbols/ETHUSD/" target="_blank" class="me-2">ðŸ“ˆ</a>
          <a href="https://www.coindesk.com/price/ethereum" target="_blank">ðŸ“°</a>
        </div>
      </li>
      <li class="list-group-item d-flex flex-wrap align-items-center justify-content-between">
        <div>
          Gold (USD/oz): <span id="priceGOLD">â€¦</span> (<span id="changeGOLD">â€¦</span>) 
          <span id="sentGOLD" class="badge bg-secondary">N/A</span>
        </div>
        <div class="d-flex align-items-center">
          <img id="sparkGOLD" class="spark me-2" src="" alt="">
          <a href="https://www.tradingview.com/symbols/XAUUSD/" target="_blank" class="me-2">ðŸ“ˆ</a>
          <a href="https://www.kitco.com/news/" target="_blank">ðŸ“°</a>
        </div>
      </li>
      <li class="list-group-item d-flex flex-wrap align-items-center justify-content-between">
        <div>
          S&amp;P 500: <span id="priceSP">N/A</span> (<span id="changeSP">N/A</span>) 
          <span id="sentSP" class="badge bg-secondary">N/A</span>
        </div>
        <div class="d-flex align-items-center">
          <img id="sparkSP" class="spark me-2" src="" alt="">
          <a href="https://www.tradingview.com/symbols/SPX/" target="_blank" class="me-2">ðŸ“ˆ</a>
          <a href="https://www.reuters.com/markets/us/" target="_blank">ðŸ“°</a>
        </div>
      </li>
    </ul>

    <h5>Latest News</h5>
    <div class="row mb-4">
      <div class="col-12 col-md-4 mb-3 mb-md-0">
        <h6>Crypto News</h6>
        <ul id="feedCrypto" class="list-unstyled"></ul>
      </div>
      <div class="col-12 col-md-4 mb-3 mb-md-0">
        <h6>Metals News</h6>
        <ul id="feedMetals" class="list-unstyled"></ul>
      </div>
      <div class="col-12 col-md-4">
        <h6>Market News</h6>
        <ul id="feedMarket" class="list-unstyled"></ul>
      </div>
    </div>

    <h5>Tweets</h5>
    <div class="mb-5">
      <a class="twitter-timeline" data-height="200" href="https://twitter.com/CoinDesk">Tweets by CoinDesk</a>
      <a class="twitter-timeline ms-3" data-height="200" href="https://twitter.com/BlackRock">Tweets by BlackRock</a>
    </div>
  </div>

  <script async src="https://platform.twitter.com/widgets.js"></script>
  <script>
    // (your existing JS for date, static heatmap, fetchPrices, loadSparks, loadNews, export, etc.)
  </script>
</body>
</html>
